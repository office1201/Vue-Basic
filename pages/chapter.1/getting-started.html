<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>
  </body>
  <script>
    const app = document.querySelector("#app");
    const viewModel = {};

    // 1. Reactivity
    // Object.defineProperty(대상 객체, 객체 속성, {정의할 내용})
    Object.defineProperty(viewModel, "string", {
      get: () => console.log("1"), // 접근
      set: (setState) => (app.innerHTML = setState), // 할당
    });

    // 2. Reactivity 코드 라이브러리화
    // +즉시실행함수
    (() => {
      const init = () => {
        Object.defineProperty(viewModel, "string", {
          get: () => console.log("1"), // 접근
          set: (setState) => render(setState), // 할당
        });
      };

      const render = (value) => (app.innerHTML = value);
    })();
  </script>
</html>
